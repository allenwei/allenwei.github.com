
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Digruby</title>
	<meta name="author" content="Allen Wei">

	
	<meta name="description" content="Feb 15th, 2010 RubyOnRails, RubyOnRails, log, logrotate Rotate Your Log File Configuring config file locate at 1
/etc/logrotate.conf Sample: 1
2
3
4 &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Digruby" type="application/atom+xml">
	
	<link rel="canonical" href="http://allenwei.github.io/blog/page/8/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("digruby@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
</div>
<hgroup>
  <h1>Digruby</h1>
  
    <h2><a href="/">Allen Wei's Tech Notes</a></h2>
  
</hgroup>

<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/allenwei" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/allenwei" title="GitHub">GitHub</a>
		
		
		
		
		
		
		<a class="delicious" href="http://delicious.com/allenwei" title="Delicious">Delicious</a>
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2010-02-15T00:00:00+08:00" data-updated="true" itemprop="datePublished">Feb 15<span>th</span>, 2010</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/rubyonrails/'>RubyOnRails</a>, <a class='category' href='/blog/categories/rubyonrails/'>RubyOnRails</a>, <a class='category' href='/blog/categories/log/'>log</a>, <a class='category' href='/blog/categories/logrotate/'>logrotate</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2010/02/15/rotate-your-log-file/" itemprop="url">Rotate Your Log File</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Configuring</p>

<p>config file locate at</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/etc/logrotate.conf</span></code></pre></td></tr></table></div></figure>


<p>Sample:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>   # Rotate Rails application logs
</span><span class='line'>   /path/to/your/rails/applicaton/log/*.log {
</span><span class='line'>     daily
</span><span class='line'>     missingok
</span><span class='line'>     rotate 7
</span><span class='line'>     compress
</span><span class='line'>     delaycompress
</span><span class='line'>     notifempty
</span><span class='line'>     copytruncate
</span><span class='line'>   }</span></code></pre></td></tr></table></div></figure>


<ul>
<li><p>/path/to/your/rails/applicaton/log/<em>.log &ndash; Use the full path to the log directory of your Rails application (symbolic links are acceptable too). &ldquo;</em>.log&rdquo; will rotate any file in the log directory with .log at the end. If you only want to rotate certain log files you can be more specific.</p></li>
<li><p>daily &ndash; Rotates the log files every day. You could specify weekly or monthly instead.</p></li>
<li><p>missingok &ndash; Don&rsquo;t issue an error message if log files are missing.</p></li>
<li><p>rotate 7 &ndash; The maximum number of log files to keep. Once you have more than this number, the oldest file will be deleted. I set it to keep seven days worth but feel free to change this number.</p></li>
<li><p>compress &ndash; Compress old versions of log files to save space (uses gzip by default).</p></li>
<li><p>delaycompress &ndash; Delays the compression until the next log rotation. It&rsquo;s a minor point and probably not strictly necessary, but it makes sure that the log file is truly no longer active before compressing it.</p></li>
<li><p>notifempty &ndash; If the log file is empty, there&rsquo;s no need to rotate it. You can remove this option if you want to rotate even blank log files; just keep in mind that you may erase a log file that has lots of information to make room for your blank log file.</p></li>
<li><p>copytruncate &ndash; Makes a backup copy of the current log and then clears the log file for continued writing. The alternative is to use create which will perform the rotation by renaming the current file and then creating a new log file with the same name as the old file. I strongly recommend that you use copytruncate unless you know that you need create. The reason why is that Rails, FastCGI, Mongrel, etc. may still keep pointing to the old log file even though its name has changed and they may require restarting to locate the new log file. copytruncate avoids this by keeping the same file as the active file.</p></li>
</ul>


<p>If you have more than one Rails application, you can repeat this code to rotate them all one-after-another. There other options you can specify, man logrotate will show you them all. I haven&rsquo;t used them but the options to mail log files on creation or deletion look interesting. It is also possible to have rotate the logs once they get to a certain size instead of at a certain time.</p>

<p>Using <a href="http://linuxcommand.org/man_pages/logrotate8.html">logrotate</a></p>

<p>To use the log rotation you just configured, you have two choices.</p>

<h1>Wait for the next day (or whatever time period you specified). If you configured it correctly, rotation should occur automatically and without further commands.</h1>

<h1>Run it immediately by typing /usr/sbin/logrotate -f /etc/logrotate.conf on the command line. (The -f is for &ldquo;force&rdquo; it to run now.)</h1>

<p>That&rsquo;s all there is to it! Now your log files won&rsquo;t fill up to an unmanagable size yet you&rsquo;ll still be able to go back and track any recent errors.</p>

<p>By default, logrotate will add cron task to /etc/cron.daily/logrotate. So you don&rsquo;t need to worry how to add cron task.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2010-02-15T00:00:00+08:00" data-updated="true" itemprop="datePublished">Feb 15<span>th</span>, 2010</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/agile/'>Agile</a>, <a class='category' href='/blog/categories/rubyonrails/'>RubyOnRails</a>, <a class='category' href='/blog/categories/ccb/'>ccb</a>, <a class='category' href='/blog/categories/ci/'>ci</a>, <a class='category' href='/blog/categories/cruisecontrol-dot-rb/'>cruisecontrol.rb</a>, <a class='category' href='/blog/categories/hudson/'>hudson</a>, <a class='category' href='/blog/categories/ubuntu/'>ubuntu</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2010/02/15/install-ci-hudson-for-ruby-on-ubuntu/" itemprop="url">Install CI Hudson for Ruby on Ubuntu</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Before switch to Hudson, we use CruiseControl.rb
Compare to CruiseControl.rb, these features is what I favourite</p>

<ul>
<li>We can easily kill or start a new build</li>
<li>We can test all branches or some branches in a git repository. It&rsquo;s</li>
<li>It will send email to a mail list  when test broke and send another email to someone who break the test.</li>
<li>It has code coverage plugin.</li>
</ul>


<h3>Then how to install on ubuntu</h3>

<h4>Add Hudson source to ubuntu</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>wget -O - http://hudson-ci.org/debian/hudson-ci.org.key | sudo apt-key add -
</span></code></pre></td></tr></table></div></figure>


<p>Add These line to</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/etc/apt/sources.list</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>deb http://hudson-ci.org/debian binary/
</span></code></pre></td></tr></table></div></figure>


<h4>Install Hudson</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo apt-get update
</span><span class='line'>sudo apt-get install hudson
</span></code></pre></td></tr></table></div></figure>


<h4>Start is easy</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo /etc/init.d/hudson start
</span></code></pre></td></tr></table></div></figure>


<h4>Configuration</h4>

<p>Now you can enter with <code>your_server_url:8080</code></p>

<h4>Install Hudson Plugin</h4>

<p>Go to <code>Manage Hudson &gt; Manage Plugins &gt; Available</code>
These plugins you need to install</p>

<ul>
<li>Rake</li>
<li>Ruby Plugin</li>
<li>Ruby metrics plugin</li>
<li>Git Plugin (optional)</li>
</ul>


<h4>Create a new Hudson Job</h4>

<ul>
<li>Click</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>New Job</span></code></pre></td></tr></table></div></figure>


<p> link
* Enter your</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Job name</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Select</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Build a free-style software project</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Setup Git repository
<strong> Enter Your URL of repository
</strong> Branch Specifier, if you only want to test master you can type in</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>*/master</span></code></pre></td></tr></table></div></figure>


<p>, leave blank hudson will test all your branches</p>

<p>Ok, Save. We leave other configuration for now. we will back.</p>

<p>Click</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Build Now</span></code></pre></td></tr></table></div></figure>


<p> link at left. Hudson will clone your repository to it&rsquo;s workspace.
If everything is ok, you can see your code in <code>/var/lib/hudson/jobs/YOUR_JOB_NAME/workspace</code></p>

<h4>Add ci required rails plugins</h4>

<p>Before you add these plugins, you need:</p>

<ul>
<li>create a new branch <code>git checkout -b ci</code></li>
<li>Install ci_reporter plugin <code>./script/plugin install git://github.com/nicksieger/ci_reporter.git</code></li>
<li>Install rails_rcov_engines plugin <code>./script/plugin install git://github.com/dam5s/rails_rcov_engines.git</code></li>
<li><code>git add vendor/plugins/ci_reporter vendor/plugins/rails_rcov_engines</code></li>
<li><code>git commit -m "add ci related plugins"</code></li>
</ul>


<h4>Continue Configuration</h4>

<p>Back to you job configuration, finish reset parts of configuration</p>

<ul>
<li>Click the button</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Advanced..</span></code></pre></td></tr></table></div></figure>


<p>, above &ldquo;Repository browser&rdquo;
* Enter</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ci</span></code></pre></td></tr></table></div></figure>


<ul>
<li></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Build Triggers > Poll SCM</span></code></pre></td></tr></table></div></figure>


<p> */10 * * * * , Poll git commit every 10 mins
*</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Build > Add build step > Execute shell</span></code></pre></td></tr></table></div></figure>


<p>, then enter</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake gems:install
</span><span class='line'><span class="nb">export </span><span class="nv">CI_REPORTS</span><span class="o">=</span>results
</span><span class='line'><span class="nb">export </span><span class="nv">RAILS_ENV</span><span class="o">=</span><span class="nb">test</span>
</span><span class='line'><span class="nb">export </span><span class="nv">CI_REPORTS</span><span class="o">=</span>results
</span><span class='line'><span class="nb">export </span><span class="nv">RAILS_ENV</span><span class="o">=</span><span class="nb">test</span>
</span><span class='line'><span class="c"># Prepare for rcov</span>
</span><span class='line'><span class="o">[</span> -d <span class="s2">&quot;coverage&quot;</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> rm -rf coverage
</span><span class='line'><span class="o">[</span> -d <span class="s2">&quot;results&quot;</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> rm -rf results
</span><span class='line'>mkdir coverage
</span><span class='line'>mkdir results
</span><span class='line'><span class="c"># invoke rake</span>
</span><span class='line'>rake db:create db:migrate ci:setup:testunit <span class="nb">test</span>:test:rcov <span class="nv">SHOW_ONLY</span><span class="o">=</span>models,helpers,controllers <span class="nv">RAILS_ENV</span><span class="o">=</span><span class="nb">test </span><span class="nv">RCOV_PARAMS</span><span class="o">=</span><span class="s2">&quot;--aggregate coverage/aggregate.data&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Post-build Actions > Publish JUnit test result report</span></code></pre></td></tr></table></div></figure>


<p> enter</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>results/*.xml</span></code></pre></td></tr></table></div></figure>


<ul>
<li></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Post-build Actions > Publish Rcov report</span></code></pre></td></tr></table></div></figure>


<p>, enter</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>coverage/test</span></code></pre></td></tr></table></div></figure>


<p> in Rcov report directory
*</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Post-build Actions > E-mail Notification</span></code></pre></td></tr></table></div></figure>


<p>, config emails you want to send when test broke</p>

<p>Ok, you can click Build Now. After build you will see the test result code coverage.</p>

<blockquote><p>Test make perfect!</p></blockquote>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2010-02-15T00:00:00+08:00" data-updated="true" itemprop="datePublished">Feb 15<span>th</span>, 2010</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/rubyonrails/'>RubyOnRails</a>, <a class='category' href='/blog/categories/rubyonrails/'>RubyOnRails</a>, <a class='category' href='/blog/categories/activerecord/'>activerecord</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2010/02/15/dont-override-activerecord-initialize-method/" itemprop="url">Don&#8217;t Override ActiveRecord Initialize Method</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Today I wrote an ActiveRecord initialize method like this</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span>
</span><span class='line'>    <span class="vi">@aa</span> <span class="o">=</span> <span class="s2">&quot;aa&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then this error occurred.</p>

<p>bq. NoMethodError: You have a nil object when you didn&rsquo;t expect it!
The error occurred while evaluating nil.has_key?</p>

<p>Very confuse.</p>

<p>After I saw source of ActiveRecord, I realized I override ActiveRecord default initialize method by mistake.</p>

<p>If you really want to do this. There two ways:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">params</span> <span class="o">=</span> <span class="kp">nil</span><span class="p">)</span>
</span><span class='line'>    <span class="k">super</span>
</span><span class='line'>    <span class="c1"># do something else</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>More graceful</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="k">def</span> <span class="nf">after_initialize</span>
</span><span class='line'>    <span class="vi">@aa</span> <span class="o">=</span> <span class="s2">&quot;aa&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2010-02-15T00:00:00+08:00" data-updated="true" itemprop="datePublished">Feb 15<span>th</span>, 2010</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/rubyonrails/'>RubyOnRails</a>, <a class='category' href='/blog/categories/rubyonrails/'>RubyOnRails</a>, <a class='category' href='/blog/categories/analyzer/'>analyzer</a>, <a class='category' href='/blog/categories/log/'>log</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2010/02/15/analyze-rails-log-using-request-log-analyzer/" itemprop="url">Analyze Rails Log Using Request-log-analyzer</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Install <a href="http://github.com/wvanbergen/request-log-analyzer/">request-log-analyzer</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install request-log-analyzer</span></code></pre></td></tr></table></div></figure>


<p>How to use</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>request-log-analyzer log/production.log #print result to console
</span><span class='line'>request-log-analyzer log/production.log -o HTML -email someone@company.com #generate html report and send email</span></code></pre></td></tr></table></div></figure>


<p>More:
<a href="http://github.com/wvanbergen/request-log-analyzer/">http://github.com/wvanbergen/request-log-analyzer/</a></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2010-02-15T00:00:00+08:00" data-updated="true" itemprop="datePublished">Feb 15<span>th</span>, 2010</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/tips/'>Tips</a>, <a class='category' href='/blog/categories/ack/'>ack</a>, <a class='category' href='/blog/categories/grep/'>grep</a>, <a class='category' href='/blog/categories/terminal/'>terminal</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2010/02/15/ack-is-better-than-grep/" itemprop="url">Ack Is Better Than Grep</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p><a href="http://betterthangrep.com/">Ack</a> written by perl, is a kind of grep, but faster than Grep, and smarter</p>

<p>Install using port</p>

<p><code>sudo port install p5-app-ack</code></p>

<p>ok, try out.</p>

<p>suppose you have a rails foler, run</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ack --ruby rails .</span></code></pre></td></tr></table></div></figure>


<p>,
You can see it shows result very fast, and have keyword highlight.</p>

<p>is it impressive?</p>

<p>More usage</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>man ack</span></code></pre></td></tr></table></div></figure>


<p>, You will forget grep</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ack --help-typesack</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>--[no]actionscript .as .mxml
</span><span class='line'>    --[no]ada          .ada .adb .ads
</span><span class='line'>    --[no]asm          .asm .s
</span><span class='line'>    --[no]batch        .bat .cmd
</span><span class='line'>    --[no]binary       Binary files, as defined by Perl's -B op (default: off)
</span><span class='line'>    --[no]cc           .c .h .xs
</span><span class='line'>    --[no]cfmx         .cfc .cfm .cfml
</span><span class='line'>    --[no]cpp          .cpp .cc .cxx .m .hpp .hh .h .hxx
</span><span class='line'>    --[no]csharp       .cs
</span><span class='line'>    --[no]css          .css
</span><span class='line'>    --[no]elisp        .el
</span><span class='line'>    --[no]erlang       .erl .hrl
</span><span class='line'>    --[no]fortran      .f .f77 .f90 .f95 .f03 .for .ftn .fpp
</span><span class='line'>    --[no]haskell      .hs .lhs
</span><span class='line'>    --[no]hh           .h
</span><span class='line'>    --[no]html         .htm .html .shtml .xhtml
</span><span class='line'>    --[no]java         .java .properties
</span><span class='line'>    --[no]js           .js
</span><span class='line'>    --[no]jsp          .jsp .jspx .jhtm .jhtml
</span><span class='line'>    --[no]lisp         .lisp .lsp
</span><span class='line'>    --[no]lua          .lua
</span><span class='line'>    --[no]make         Makefiles
</span><span class='line'>    --[no]mason        .mas .mhtml .mpl .mtxt
</span><span class='line'>    --[no]objc         .m .h
</span><span class='line'>    --[no]objcpp       .mm .h
</span><span class='line'>    --[no]ocaml        .ml .mli
</span><span class='line'>    --[no]parrot       .pir .pasm .pmc .ops .pod .pg .tg
</span><span class='line'>    --[no]perl         .pl .pm .pod .t
</span><span class='line'>    --[no]php          .php .phpt .php3 .php4 .php5
</span><span class='line'>    --[no]plone        .pt .cpt .metadata .cpy .py
</span><span class='line'>    --[no]python       .py
</span><span class='line'>    --[no]rake         Rakefiles
</span><span class='line'>    --[no]ruby         .rb .rhtml .rjs .rxml .erb .rake
</span><span class='line'>    --[no]scheme       .scm .ss
</span><span class='line'>    --[no]shell        .sh .bash .csh .tcsh .ksh .zsh
</span><span class='line'>    --[no]skipped      Files, but not directories, normally skipped by ack (default: off)
</span><span class='line'>    --[no]smalltalk    .st
</span><span class='line'>    --[no]sql          .sql .ctl
</span><span class='line'>    --[no]tcl          .tcl .itcl .itk
</span><span class='line'>    --[no]tex          .tex .cls .sty
</span><span class='line'>    --[no]text         Text files, as defined by Perl's -T op (default: off)
</span><span class='line'>    --[no]tt           .tt .tt2 .ttml
</span><span class='line'>    --[no]vb           .bas .cls .frm .ctl .vb .resx
</span><span class='line'>    --[no]vim          .vim
</span><span class='line'>    --[no]xml          .xml .dtd .xslt .ent
</span><span class='line'>    --[no]yaml         .yaml .yml</span></code></pre></td></tr></table></div></figure>




		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2010-02-14T00:00:00+08:00" data-updated="true" itemprop="datePublished">Feb 14<span>th</span>, 2010</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/rubyonrails/'>RubyOnRails</a>, <a class='category' href='/blog/categories/rubyonrails/'>RubyOnRails</a>, <a class='category' href='/blog/categories/tips/'>Tips</a>, <a class='category' href='/blog/categories/tips/'>Tips</a>, <a class='category' href='/blog/categories/actioncontroller/'>actioncontroller</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2010/02/14/tips-use-activecontroller-helper_methodhide_action-method/" itemprop="url">Tips - Use ActionController Helper_method,hide_action Methods</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<ul>
<li>hide_action: hide a method in controller</li>
<li>helper_method: use this method as helper method, you can call this method in view</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">BookController</span> <span class="o">&lt;</span> <span class="ss">ActionController</span><span class="p">:</span><span class="ss">:Base</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">category_name</span>
</span><span class='line'>
</span><span class='line'>    <span class="s2">&quot;RubyOnRails&quot;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">hide_action</span> <span class="ss">:category_name</span> <span class="c1">#you can&#39;t visit action category_name.</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">helper_method</span> <span class="ss">:category_name</span> <span class="c1">#you can call &#39;category_name&#39; in view</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>

</article>

</div>
<nav id="pagenavi">
    
        <a href="/blog/page/7/" class="prev">Prev</a>
    
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2013 - Allen Wei -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			

<script type="text/javascript">
      var disqus_shortname = 'digrubycom';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





		</div>
	</div>
</body>
</html>
